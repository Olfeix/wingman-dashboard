{"ast":null,"code":"import _objectSpread from\"/home/olfeix/projects/wingman/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/home/olfeix/projects/wingman/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/olfeix/projects/wingman/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import\"./App.css\";import{BrowserRouter as Router,Switch,Route,useHistory}from\"react-router-dom\";import LogIn from\"./components/Login/Login\";import SignUp from\"./components/Login/SIgnUp\";import Dashboard from\"./components/Dashboard\";import PrivateRoute from\"./components/Authentication/Privateroute\";import React,{useEffect}from\"react\";import getAccessToken from\"./API/getAccessToken\";import getUserDetails from\"./API/Login/getUserDetails\";import moment from\"moment\";import JwtDecode from\"jwt-decode\";import{ToastProvider}from\"react-toast-notifications\";import{useAuth}from\"./context/AuthContext\";import axiosInstance from\"./axiosInstance\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function App(){var _useAuth=useAuth(),currentUser=_useAuth.currentUser,setCurrentUser=_useAuth.setCurrentUser,loggedIn=_useAuth.loggedIn,setLoggedIn=_useAuth.setLoggedIn;var history=useHistory();var getNewAccessToken=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var refreshToken,accessToken;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:refreshToken=localStorage.getItem(\"refreshToken\");setLoggedIn(true);_context.next=4;return getAccessToken(refreshToken);case 4:accessToken=_context.sent;if(accessToken){localStorage.setItem(\"bearerToken\",accessToken.jwt);}case 6:case\"end\":return _context.stop();}},_callee);}));return function getNewAccessToken(){return _ref.apply(this,arguments);};}();var loggedInAction=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var user;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return getNewAccessToken();case 2:_context2.next=4;return getUserDetails();case 4:user=_context2.sent;if(user){setCurrentUser(user);}case 6:case\"end\":return _context2.stop();}},_callee2);}));return function loggedInAction(){return _ref2.apply(this,arguments);};}();var checkAccessTokenExpiry=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){var jwtToken,token,exp,currentDateTime,expiryDateTime,diffSeonds,diffSeondsInt,diffMiutes;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:jwtToken=localStorage.getItem(\"bearerToken\");if(jwtToken){_context3.next=3;break;}return _context3.abrupt(\"return\");case 3:token=JwtDecode(jwtToken);exp=token.exp;currentDateTime=moment().format(\"DD/MM/YYYY HH:mm:ss\");expiryDateTime=moment.unix(exp).format(\"DD/MM/YYYY HH:mm:ss\");diffSeonds=moment(expiryDateTime,\"DD/MM/YYYY HH:mm:ss\").diff(moment(currentDateTime,\"DD/MM/YYYY HH:mm:ss\"),\"seconds\");diffSeondsInt=parseInt(diffSeonds,10);// jsut for logs ----------\ndiffMiutes=moment(expiryDateTime,\"DD/MM/YYYY HH:mm:ss\").diff(moment(currentDateTime,\"DD/MM/YYYY HH:mm:ss\"),\"minutes\");console.log(\"access token expires in\",diffMiutes,\"minutes\");if(diffSeondsInt<900){console.log(\"token about to expire, setting a new one\");loggedInAction();}case 12:case\"end\":return _context3.stop();}},_callee3);}));return function checkAccessTokenExpiry(){return _ref3.apply(this,arguments);};}();var setupAxiosInterceptors=function setupAxiosInterceptors(){// =================== auth / request  interceptors =============================\n// Add a request interceptor to add the jwt token\naxiosInstance.interceptors.request.use(function(config){// eslint-disable-next-line no-param-reassign\nconfig.headers=_objectSpread(_objectSpread({},config.headers),{},{bearer:localStorage.getItem(\"bearerToken\")?\"\".concat(localStorage.getItem(\"bearerToken\")):\"\"});return config;},function(error){return Promise.reject(error);});// Add a response interceptor to handdle unauthorized requests\naxiosInstance.interceptors.response.use(function(response){return response;},function(error){// Any status codes that falls outside the range of 2xx cause this function to trigger\n// Do something with response error\nif(error.response||loggedIn){var status=error.response.status;console.log(\"status\",status);if(status===403||status===500){console.log(\"statsu 403\");}if(status===401){console.log(\"ERROR\",\"Access Denied\");}// if (status === 403    access denied     || status === 401      logout ) {\n//   setLoggedIn(false);\n//   setLoggedIn(false);\n// }\n}return Promise.reject(error);});};useEffect(function(){if(loggedIn){console.log(\"USER LOGGED IN\");loggedInAction();console.log(currentUser);}else{// No user is signed in.\nconsole.log(\"USER NOT LOGGED IN\");setCurrentUser({});}},[loggedIn]);useEffect(function(){setupAxiosInterceptors();},[]);useEffect(function(){var bearerToken=localStorage.getItem(\"bearerToken\");var refreshToken=localStorage.getItem(\"refreshToken\");if(!bearerToken&&!refreshToken){redirectLogin();}if(bearerToken&&refreshToken){loggedInAction();}},[]);var redirectLogin=/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(){return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:try{history.push(\"/login\");}catch(error){console.log(error);}case 1:case\"end\":return _context4.stop();}},_callee4);}));return function redirectLogin(){return _ref4.apply(this,arguments);};}();// loop to check jwt token expiry\nuseEffect(function(){var tokenCheckInterval=setInterval(function(){checkAccessTokenExpiry();},15*1000);return function(){if(tokenCheckInterval){clearInterval(tokenCheckInterval);}};},[]);window.addEventListener(\"storage\",function(){if(localStorage.getItem(\"bearerToken\")===null){redirectLogin();}});return/*#__PURE__*/_jsx(ToastProvider,{children:/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",component:LogIn}),/*#__PURE__*/_jsx(Route,{path:\"/sign-up\",component:SignUp}),loggedIn&&/*#__PURE__*/_jsx(PrivateRoute,{component:Dashboard})]})});}export default App;","map":{"version":3,"names":["BrowserRouter","Router","Switch","Route","useHistory","LogIn","SignUp","Dashboard","PrivateRoute","React","useEffect","getAccessToken","getUserDetails","moment","JwtDecode","ToastProvider","useAuth","axiosInstance","jsx","_jsx","jsxs","_jsxs","App","_useAuth","currentUser","setCurrentUser","loggedIn","setLoggedIn","history","getNewAccessToken","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","refreshToken","accessToken","wrap","_callee$","_context","prev","next","localStorage","getItem","sent","setItem","jwt","stop","apply","arguments","loggedInAction","_ref2","_callee2","user","_callee2$","_context2","checkAccessTokenExpiry","_ref3","_callee3","jwtToken","token","exp","currentDateTime","expiryDateTime","diffSeonds","diffSeondsInt","diffMiutes","_callee3$","_context3","abrupt","format","unix","diff","parseInt","console","log","setupAxiosInterceptors","interceptors","request","use","config","headers","_objectSpread","bearer","concat","error","Promise","reject","response","status","bearerToken","redirectLogin","_ref4","_callee4","_callee4$","_context4","push","tokenCheckInterval","setInterval","clearInterval","window","addEventListener","children","path","component"],"sources":["/home/olfeix/projects/wingman/src/App.js"],"sourcesContent":["import \"./App.css\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  useHistory,\n} from \"react-router-dom\";\nimport LogIn from \"./components/Login/Login\";\nimport SignUp from \"./components/Login/SIgnUp\";\nimport Dashboard from \"./components/Dashboard\";\nimport PrivateRoute from \"./components/Authentication/Privateroute\";\nimport React, { useEffect } from \"react\";\nimport getAccessToken from \"./API/getAccessToken\";\nimport getUserDetails from \"./API/Login/getUserDetails\";\nimport moment from \"moment\";\nimport JwtDecode from \"jwt-decode\";\nimport { ToastProvider } from \"react-toast-notifications\";\nimport { useAuth } from \"./context/AuthContext\";\nimport axiosInstance from \"./axiosInstance\";\n\nfunction App() {\n  const { currentUser, setCurrentUser, loggedIn, setLoggedIn } = useAuth();\n\n  const history = useHistory();\n\n  const getNewAccessToken = async () => {\n    const refreshToken = localStorage.getItem(\"refreshToken\");\n\n    setLoggedIn(true);\n\n    const accessToken = await getAccessToken(refreshToken);\n\n    if (accessToken) {\n      localStorage.setItem(\"bearerToken\", accessToken.jwt);\n    }\n  };\n\n  const loggedInAction = async () => {\n    await getNewAccessToken();\n    const user = await getUserDetails();\n    if (user) {\n      setCurrentUser(user);\n    }\n  };\n  const checkAccessTokenExpiry = async () => {\n    const jwtToken = localStorage.getItem(\"bearerToken\");\n    if (!jwtToken) return;\n\n    const token = JwtDecode(jwtToken);\n    const { exp } = token;\n    const currentDateTime = moment().format(\"DD/MM/YYYY HH:mm:ss\");\n    const expiryDateTime = moment.unix(exp).format(\"DD/MM/YYYY HH:mm:ss\");\n\n    const diffSeonds = moment(expiryDateTime, \"DD/MM/YYYY HH:mm:ss\").diff(\n      moment(currentDateTime, \"DD/MM/YYYY HH:mm:ss\"),\n      \"seconds\"\n    );\n\n    const diffSeondsInt = parseInt(diffSeonds, 10);\n\n    // jsut for logs ----------\n    const diffMiutes = moment(expiryDateTime, \"DD/MM/YYYY HH:mm:ss\").diff(\n      moment(currentDateTime, \"DD/MM/YYYY HH:mm:ss\"),\n      \"minutes\"\n    );\n    console.log(\"access token expires in\", diffMiutes, \"minutes\");\n\n    if (diffSeondsInt < 900) {\n      console.log(\"token about to expire, setting a new one\");\n      loggedInAction();\n    }\n  };\n\n  const setupAxiosInterceptors = () => {\n    // =================== auth / request  interceptors =============================\n\n    // Add a request interceptor to add the jwt token\n    axiosInstance.interceptors.request.use(\n      (config) => {\n        // eslint-disable-next-line no-param-reassign\n        config.headers = {\n          ...config.headers,\n          bearer: localStorage.getItem(\"bearerToken\")\n            ? `${localStorage.getItem(\"bearerToken\")}`\n            : \"\",\n        };\n        return config;\n      },\n      (error) => {\n        return Promise.reject(error);\n      }\n    );\n\n    // Add a response interceptor to handdle unauthorized requests\n    axiosInstance.interceptors.response.use(\n      (response) => {\n        return response;\n      },\n      (error) => {\n        // Any status codes that falls outside the range of 2xx cause this function to trigger\n        // Do something with response error\n\n        if (error.response || loggedIn) {\n          const { status } = error.response;\n          console.log(\"status\", status);\n\n          if (status === 403 || status === 500) {\n            console.log(\"statsu 403\");\n          }\n          if (status === 401) {\n            console.log(\"ERROR\", \"Access Denied\");\n          }\n\n          // if (status === 403    access denied     || status === 401      logout ) {\n          //   setLoggedIn(false);\n          //   setLoggedIn(false);\n          // }\n        }\n        return Promise.reject(error);\n      }\n    );\n  };\n\n  useEffect(() => {\n    if (loggedIn) {\n      console.log(\"USER LOGGED IN\");\n      loggedInAction();\n      console.log(currentUser);\n    } else {\n      // No user is signed in.\n      console.log(\"USER NOT LOGGED IN\");\n      setCurrentUser({});\n    }\n  }, [loggedIn]);\n\n  useEffect(() => {\n    setupAxiosInterceptors();\n  }, []);\n\n  useEffect(() => {\n    const bearerToken = localStorage.getItem(\"bearerToken\");\n    const refreshToken = localStorage.getItem(\"refreshToken\");\n\n    if (!bearerToken && !refreshToken) {\n      redirectLogin();\n    }\n\n    if (bearerToken && refreshToken) {\n      loggedInAction();\n    }\n  }, []);\n\n  const redirectLogin = async () => {\n    try {\n      history.push(\"/login\");\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  // loop to check jwt token expiry\n  useEffect(() => {\n    const tokenCheckInterval = setInterval(() => {\n      checkAccessTokenExpiry();\n    }, 15 * 1000);\n    return () => {\n      if (tokenCheckInterval) {\n        clearInterval(tokenCheckInterval);\n      }\n    };\n  }, []);\n\n  window.addEventListener(\"storage\", () => {\n    if (localStorage.getItem(\"bearerToken\") === null) {\n      redirectLogin();\n    }\n  });\n\n  return (\n    <ToastProvider>\n      <Switch>\n        <Route path=\"/login\" component={LogIn} />\n        <Route path=\"/sign-up\" component={SignUp} />\n        {loggedIn && <PrivateRoute component={Dashboard} />}\n      </Switch>\n    </ToastProvider>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}